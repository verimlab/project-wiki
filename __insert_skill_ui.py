# -*- coding: utf-8 -*-
from pathlib import Path
path = Path("src/components/GmEditorPage.tsx")
text = path.read_text(encoding="utf-8")
marker = "              {section === 'creatures' && (\n                <div className=\"ge-meta-row\">\n                  <label>"
if marker not in text:
    raise SystemExit('creatures meta row marker not found')
# We'll insert new block after the existing meta-row closing
search = "              {section === 'creatures' && (\n                <div className=\"ge-meta-row\">"
start = text.index(search)
end = text.index("              )}\n\n\n              {section === 'races'", start)
block = "              {section === 'creatures' && (\n                <div className=\"ge-meta-row\">\n                  <label>\n                    КД (для удобства в бою)\n                    <input\n                      value={currentArticle.ac || ''}\n                      onChange={(e) => updateCurrent({ ac: e.target.value })}\n                      placeholder=\"Например: 14\"\n                    />\n                  </label>\n                  <label>\n                    Атаки\n                    <input\n                      value={currentArticle.attacks || ''}\n                      onChange={(e) => updateCurrent({ attacks: e.target.value })}\n                      placeholder=\"Например: когти +4 (1d6+2)\"\n                    />\n                  </label>\n                  <label>\n                    Категория\n                    {/* категорию можно использовать для фильтрации существ в будущем */}\n                    <input\n                      value={currentArticle.category || ''}\n                      onChange={(e) => updateCurrent({ category: e.target.value })}\n                      placeholder=\"Например: зверь, элитный\"\n                    />\n                  </label>\n                </div>\n              )}\n\n              {section === 'creatures' && (\n                <div className=\"ge-full ge-creature-skills\">\n                  <span className=\"ge-field-label\">Владения навыками</span>\n                  <p className=\"ge-skill-hint\">Укажите ключевые навыки из каталога, которыми владеет существо — игроки увидят это в карточке.</p>\n                  <div className=\"ge-skill-chips\">\n                    {(currentArticle.skillProficiencies ?? []).map((skill) => (\n                      <span key={skill} className=\"ge-skill-chip\">\n                        <i className=\"fa-solid fa-star\" /> {skill}\n                        <button type=\"button\" onClick={() => handleRemoveCreatureSkill(skill)} aria-label={\`Удалить навык ${skill}\`}>\n                          <i className=\"fa-solid fa-xmark\" />\n                        </button>\n                      </span>\n                    ))}\n                    {!(currentArticle.skillProficiencies?.length) && (\n                      <span className=\"ge-skill-empty\">Пока без навыков</span>\n                    )}\n                  </div>\n                  <div className=\"ge-skill-input-row\">\n                    <input\n                      list={creatureSkillDatalistId}\n                      value={creatureSkillInput}\n                      onChange={(e) => setCreatureSkillInput(e.target.value)}\n                      onKeyDown={handleCreatureSkillKeyDown}\n                      placeholder=\"Например: Ледяное копьё\"\n                    />\n                    <datalist id={creatureSkillDatalistId}>\n                      {creatureSkillOptions.map((name) => (\n                        <option key={name} value={name} />\n                      ))}\n                    </datalist>\n                    <button type=\"button\" className=\"ge-add-skill-btn\" onClick={handleAddCreatureSkill}>\n                      <i className=\"fa-solid fa-plus\" /> Добавить\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {section === 'races' && ("
path.write_text(text.replace(text[start:end], block), encoding="utf-8")
